(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{160:function(e,t){},162:function(e,t){},173:function(e,t){},175:function(e,t){},200:function(e,t){},202:function(e,t){},203:function(e,t){},208:function(e,t){},210:function(e,t){},229:function(e,t){},241:function(e,t){},244:function(e,t){},252:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a(2),i=a.n(n),c=a(133),r=a.n(c),l=a(9),o=a(10),d=a(12),h=a(11),j=a(35),u=a(81),b=a(8),m=a(19),p=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(s.jsx)("h2",{children:"Loading..."})}}]),a}(n.Component),O=a(15),x=a.n(O),f=a(30),v=a(41),g=a(18),y=(a(36),a(134)),N=a(137),w=a(78);a(148),a(150),a(253);w.a.initializeApp({apiKey:"AIzaSyBYyLU6aDE-c4OIVEsq0JPBBo0CJEvOBBE",authDomain:"thevaticanarchives.firebaseapp.com",databaseURL:"https://thevaticanarchives.firebaseio.com",projectId:"thevaticanarchives",storageBucket:"thevaticanarchives.appspot.com",messagingSenderId:"110115802863",appId:"1:110115802863:web:e50b5cea23f068c2ae151a"});var k=w.a,C=a(135),S=a.n(C),I=a(136),D=a.n(I),L=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).state={fileInput:i.a.createRef(),imageIsUploaded:!1,url:"",progress:0,description:"",displayName:""},s.handleChange=s.handleChange.bind(Object(g.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(g.a)(s)),s.handleImageUpload=s.handleImageUpload.bind(Object(g.a)(s)),s.handleDisplayNameChange=s.handleDisplayNameChange.bind(Object(g.a)(s)),s.handleLogout=s.handleLogout.bind(Object(g.a)(s)),s}return Object(o.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(v.a)({},e.target.name,e.target.value))}},{key:"handleImageUpload",value:function(e){this.setState({imageIsUploaded:!0})}},{key:"handleLogout",value:function(){var e=Object(f.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.auth().signOut();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"handleDisplayNameChange",value:function(){var e=Object(f.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,null===(a=k.auth().currentUser)||void 0===a?void 0:a.updateProfile({displayName:this.state.displayName});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){var e=Object(f.a)(x.a.mark((function e(t){var a,s,n,i=this;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),null!==this.state.fileInput.current&&null!==this.state.fileInput.current.files&&(a=this.state.fileInput.current.files[0],s="".concat(S()({length:25}),".")+D.a.extension(a.type),(n=k.storage().ref(s).put(a)).on("state_changed",(function(e){i.setState({progress:Math.round(100*e.bytesTransferred/e.totalBytes)})}),(function(e){console.error(e)}),(function(){n.snapshot.ref.getDownloadURL().then((function(e){var t,a;k.firestore().collection("images").doc().set({url:e,timestamp:k.firestore.Timestamp.fromDate(new Date),uploader:null===(t=k.auth().currentUser)||void 0===t?void 0:t.uid,displayName:null===(a=k.auth().currentUser)||void 0===a?void 0:a.displayName,description:i.state.description}).then((function(){window.location.reload(!1)}))}))})));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("section",{className:"hero is-primary is-fullheight",children:Object(s.jsx)("div",{className:"hero-body",children:Object(s.jsxs)("div",{className:"container has-text-centered",children:[Object(s.jsx)("h1",{className:"title is-size-1",children:"Upload Files"}),Object(s.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(s.jsx)("div",{className:"field",hidden:this.state.imageIsUploaded,children:Object(s.jsx)("div",{className:"file is-large is-centered is-boxed",children:Object(s.jsxs)("label",{className:"file-label",children:[Object(s.jsx)("input",{className:"file-input",type:"file",accept:"image/*,video/*",name:"file",ref:this.state.fileInput,onChange:this.handleImageUpload}),Object(s.jsxs)("span",{className:"file-cta",children:[Object(s.jsx)("span",{className:"file-icon",children:Object(s.jsx)(y.a,{icon:N.a})}),Object(s.jsx)("span",{className:"file-label",children:"Click to Upload"})]})]})})}),Object(s.jsx)("div",{className:"field",hidden:!this.state.imageIsUploaded,children:Object(s.jsx)("img",{src:this.state.imageIsUploaded&&this.state.fileInput.current&&this.state.fileInput.current.files?URL.createObjectURL(this.state.fileInput.current.files[0]):"",alt:"uploaded"})}),Object(s.jsx)("div",{className:"field",hidden:0===this.state.progress||100===this.state.progress,children:Object(s.jsxs)("progress",{className:"progress is-success",value:this.state.progress,max:100,children:[this.state.progress,"%"]})}),Object(s.jsxs)("div",{className:"field",hidden:!this.state.imageIsUploaded,children:[Object(s.jsx)("label",{className:"label has-text-white",children:"Description"}),Object(s.jsx)("div",{className:"control is-half",children:Object(s.jsx)("input",{className:"input is-primary",type:"input",required:!0,name:"description",placeholder:"This person is a bit of a dumbass",style:{width:"75%"},onChange:this.handleChange})})]}),Object(s.jsx)("div",{className:"field mt-5",hidden:!this.state.imageIsUploaded,children:Object(s.jsx)("div",{className:"control",children:Object(s.jsx)("button",{className:"button is-primary is-inverted is-large",children:"Submit"})})})]})]})})}),Object(s.jsxs)("section",{className:"container mt-6",children:[Object(s.jsx)("h1",{className:"title",children:"User Options"}),Object(s.jsxs)("div",{className:"columns",children:[Object(s.jsx)("div",{className:"column",children:Object(s.jsxs)("form",{onSubmit:this.handleDisplayNameChange,children:[Object(s.jsx)("h3",{className:"subtitle",children:"Change Display Name"}),Object(s.jsxs)("div",{className:"field is-grouped",children:[Object(s.jsx)("p",{className:"control is-expanded",children:Object(s.jsx)("input",{className:"input",name:"displayName",type:"text",placeholder:"xX_EpicGamer_Xx",onChange:this.handleChange})}),Object(s.jsx)("p",{className:"control",children:Object(s.jsx)("button",{className:"button is-primary",children:"Change!"})})]})]})}),Object(s.jsx)("div",{className:"column has-text-centered",children:Object(s.jsx)("button",{className:"button is-primary is-large",onClick:this.handleLogout,children:"Logout"})})]})]}),Object(s.jsx)("footer",{className:"footer mt-6",children:Object(s.jsx)("div",{className:"content has-text-centered",children:Object(s.jsxs)("p",{children:["Made by ",Object(s.jsx)("a",{href:"https://dannyzolp.com/",children:"Danny Zolp"})," with \ud83d\udc95, Copyright 2020"]})})})]})}}]),a}(n.Component),U=a.p+"static/media/Spiral_Vatican_Museum.3b5310cc.jpg",F=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("header",{className:"hero is-primary is-fullheight",children:Object(s.jsx)("div",{className:"hero-body",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("h1",{className:"title is-size-1",children:"The Vatican Archives"}),Object(s.jsx)("h3",{className:"subtitle",children:"Documenting your life one file at a time"}),Object(s.jsxs)("div",{className:"buttons",children:[Object(s.jsx)(m.b,{to:"/view",className:"button is-primary is-inverted is-outlined is-medium",children:"View"}),Object(s.jsx)(m.b,{to:"/login",className:"button is-primary is-inverted is-outlined is-medium",children:"Login"})]})]})})}),Object(s.jsx)("hr",{className:"m-6"}),Object(s.jsx)("section",{className:"container mt-6 mb-6",id:"about",children:Object(s.jsxs)("div",{className:"columns",children:[Object(s.jsxs)("div",{className:"column",children:[Object(s.jsx)("img",{src:U,alt:"vatican archives"}),Object(s.jsx)("a",{href:"https://commons.wikimedia.org/wiki/File:Spiral_Vatican_Museum.jpg",children:"Dennis Mojado"}),","," ",Object(s.jsx)("a",{href:"https://creativecommons.org/licenses/by/2.0",children:"CC BY 2.0"}),", via Wikimedia Commons"]}),Object(s.jsxs)("div",{className:"column",children:[Object(s.jsx)("h1",{className:"title",children:"About Us"}),Object(s.jsx)("h3",{className:"subtitle",children:"Who we are at the Vatican Archives"}),Object(s.jsxs)("p",{className:"mt-6",children:[Object(s.jsx)("strong",{children:"Note: we are in no way associated with the Vatican."})," Here at the Vatican Archives we take note of everything that you dumb people put on to our discord or send to us, so that we can make a better world that has less shit. Why is the world shit? Because you guys think that you are incredibly funny when a few years or maybe months down the line you will regret your decision. Our purpose is to make you think before being a dumbass and sending us things that aren't funny. You might think this is blackmail, and I'd like to say that I have a very good lawyer."]})]})]})}),Object(s.jsx)("footer",{className:"footer",children:Object(s.jsx)("div",{className:"content has-text-centered",children:Object(s.jsxs)("p",{children:["Made by ",Object(s.jsx)("a",{href:"https://dannyzolp.com/",children:"Danny Zolp"})," with \ud83d\udc95, Copyright 2020"]})})})]})}}]),a}(n.Component),A=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("nav",{className:"navbar is-primary",role:"navigation","aria-label":"main navigation",children:[Object(s.jsxs)("div",{className:"navbar-brand",children:[Object(s.jsx)(m.b,{to:"/",className:"m-2 ml-4 has-text-white title",children:"The Vatican Archives"}),Object(s.jsxs)("button",{className:"navbar-burger burger","aria-label":"menu","aria-expanded":"false","data-target":"navbar",children:[Object(s.jsx)("span",{"aria-hidden":"true"}),Object(s.jsx)("span",{"aria-hidden":"true"}),Object(s.jsx)("span",{"aria-hidden":"true"})]})]}),Object(s.jsxs)("div",{id:"navbar",className:"navbar-menu",children:[Object(s.jsxs)("div",{className:"navbar-start",children:[Object(s.jsx)(m.b,{to:"/",className:"navbar-item",children:"Home"}),Object(s.jsx)(m.b,{to:"/view",className:"navbar-item",children:"View"}),Object(s.jsx)(m.b,{to:"/how-it-works",className:"navbar-item",children:"How it works"}),Object(s.jsx)("a",{href:"https://www.dannyzolp.com/",className:"navbar-item",children:"Contact"})]}),Object(s.jsx)("div",{className:"navbar-end",children:Object(s.jsx)("div",{className:"navbar-item",children:Object(s.jsx)("div",{className:"buttons",children:Object(s.jsx)(m.b,{to:"/login",className:"button is-light",children:"Login"})})})})]})]})})}}]),a}(n.Component),E=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(A,{}),Object(s.jsx)("section",{className:"hero is-primary is-fullheight",children:Object(s.jsx)("div",{className:"hero-body",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("h1",{className:"title",children:"How it works"}),Object(s.jsxs)("h2",{className:"subtitle",children:[Object(s.jsx)("strong",{children:"Very Carefully."})," Also with Google's Firebase Platform, using Firestore and Cloud Storage."]})]})})})]})}}]),a}(n.Component),B=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).state={email:"",password:""},s.handleChange=s.handleChange.bind(Object(g.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(g.a)(s)),s}return Object(o.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(v.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault(),k.auth().signInWithEmailAndPassword(this.state.email,this.state.password)}},{key:"render",value:function(){return Object(s.jsx)("section",{className:"hero is-primary is-fullheight",children:Object(s.jsx)("div",{className:"hero-body",children:Object(s.jsxs)("div",{className:"container ml-6",children:[Object(s.jsx)("h1",{className:"title is-size-1",children:"Login"}),Object(s.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(s.jsxs)("div",{className:"field",children:[Object(s.jsx)("label",{className:"label has-text-white is-large",children:"Email"}),Object(s.jsx)("div",{className:"control is-half",children:Object(s.jsx)("input",{className:"input is-large is-primary",onChange:this.handleChange,type:"email",name:"email",placeholder:"hello@world.com",style:{width:"50%"}})})]}),Object(s.jsxs)("div",{className:"field",children:[Object(s.jsx)("label",{className:"label has-text-white is-large",children:"Password"}),Object(s.jsx)("div",{className:"control is-half",children:Object(s.jsx)("input",{className:"input is-large is-primary",onChange:this.handleChange,type:"password",name:"password",placeholder:"VeryS3curePassword",style:{width:"50%"}})})]}),Object(s.jsx)("div",{className:"field mt-5",children:Object(s.jsxs)("div",{className:"control buttons",children:[Object(s.jsx)("button",{className:"button is-primary is-inverted is-large",children:"Login"}),Object(s.jsx)(m.b,{to:"/signup",className:"button is-primary is-inverted is-large",children:"Signup"})]})})]})]})})})}}]),a}(n.Component),P=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(s.jsx)("section",{className:"hero is-primary is-fullheight",children:Object(s.jsx)("div",{className:"hero-body",children:Object(s.jsxs)("div",{className:"container ml-6",children:[Object(s.jsx)("h1",{className:"title is-size-1",children:"No, you are not cool enough to upload to this website."}),Object(s.jsx)("a",{href:"https://www.dannyzolp.com/",className:"button is-primary",children:"I think I am"})]})})})}}]),a}(n.Component),M=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:"card column is-one-quarter m-2",children:[Object(s.jsx)("div",{className:"card-image",children:Object(s.jsx)("figure",{className:"image is-4by3",children:Object(s.jsx)("img",{src:this.props.imageURL,alt:this.props.imageAlt,style:{objectFit:"cover"}})})}),Object(s.jsxs)("div",{className:"card-content",children:[Object(s.jsx)("div",{className:"media",children:Object(s.jsxs)("div",{className:"media-content",children:[Object(s.jsx)("p",{className:"title is-4",children:this.props.displayName||"[Anonymous]"}),Object(s.jsx)("p",{className:"subtitle is-6",children:this.props.uid})]})}),Object(s.jsxs)("div",{className:"content",children:[this.props.description,Object(s.jsx)("br",{}),Object(s.jsx)("time",{children:this.props.time})]})]})]})}}]),a}(n.Component),V=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).state={currentLoad:[],loading:!0,atEnd:!1,lastDoc:void 0},s.handlePageForward=s.handlePageForward.bind(Object(g.a)(s)),s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(f.a)(x.a.mark((function e(){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.firestore().collection("images").orderBy("timestamp","desc").limit(16).get();case 2:return t=e.sent,a=[],e.next=6,t.forEach(function(){var e=Object(f.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push(t.data());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:this.setState({currentLoad:a,loading:!1,lastDoc:t.docs[t.docs.length-1]});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handlePageForward",value:function(){var e=Object(f.a)(x.a.mark((function e(){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.firestore().collection("images").orderBy("timestamp","desc").startAfter(this.state.lastDoc).limit(16).get();case 2:return t=e.sent,a=[],e.next=6,t.forEach(function(){var e=Object(f.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push(t.data());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:0===a.length?this.setState({atEnd:!0}):this.setState({currentLoad:this.state.currentLoad.concat(a),lastDoc:t.docs[t.docs.length-1]});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=[],t=[];return this.state.currentLoad.forEach((function(a){e.push(Object(s.jsx)(M,{imageURL:a.url,imageAlt:a.description,displayName:a.displayName,uid:a.uploader,description:a.description,time:new Date(1e3*a.timestamp.seconds).toLocaleString()})),4===e.length&&(t.push(Object(s.jsx)("div",{className:"columns",children:e.map((function(e){return e}))})),e=[])})),0!==e.length&&(t.push(Object(s.jsx)("div",{className:"columns",children:e.map((function(e){return e}))})),e=[]),this.state.loading?Object(s.jsx)(p,{}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(A,{}),Object(s.jsxs)("div",{className:"container mt-6 has-text-centered",children:[t,this.state.atEnd?Object(s.jsx)("button",{className:"button is-primary my-6",onClick:this.handlePageForward,disabled:!0,children:"Nothing More!"}):Object(s.jsx)("button",{className:"button is-primary my-6",onClick:this.handlePageForward,children:"Load More"})]}),Object(s.jsx)("footer",{className:"footer",children:Object(s.jsx)("div",{className:"content has-text-centered",children:Object(s.jsxs)("p",{children:["Made by ",Object(s.jsx)("a",{href:"https://dannyzolp.com/",children:"Danny Zolp"})," with \ud83d\udc95, Copyright 2020"]})})})]})}}]),a}(n.Component);function z(e){var t=e.component,a=e.authenticated,n=Object(u.a)(e,["component","authenticated"]);return Object(s.jsx)(b.b,Object(j.a)(Object(j.a)({},n),{},{render:function(e){return!0===a?Object(s.jsx)(t,Object(j.a)({},e)):Object(s.jsx)(b.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}function R(e){var t=e.component,a=e.authenticated,n=Object(u.a)(e,["component","authenticated"]);return Object(s.jsx)(b.b,Object(j.a)(Object(j.a)({},n),{},{render:function(e){return!1===a?Object(s.jsx)(t,Object(j.a)({},e)):Object(s.jsx)(b.a,{to:"/dashboard"})}}))}var T=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={authenticated:!1,loading:!0},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;k.auth().onAuthStateChanged((function(t){t?e.setState({authenticated:!0,loading:!1}):e.setState({authenticated:!1,loading:!1})}))}},{key:"render",value:function(){return this.state.loading?Object(s.jsx)(p,{}):Object(s.jsx)(m.a,{children:Object(s.jsxs)(b.d,{children:[Object(s.jsx)(b.b,{exact:!0,path:"/",component:F}),Object(s.jsx)(b.b,{exact:!0,path:"/view",component:V}),Object(s.jsx)(b.b,{exact:!0,path:"/how-it-works",component:E}),Object(s.jsx)(R,{path:"/login",authenticated:this.state.authenticated,component:B}),Object(s.jsx)(R,{path:"/signup",authenticated:this.state.authenticated,component:P}),Object(s.jsx)(z,{path:"/dashboard",authenticated:this.state.authenticated,component:L})]})})}}]),a}(n.Component),_=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,254)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),s(e),n(e),i(e),c(e)}))};r.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(T,{})}),document.getElementById("root")),_()}},[[252,1,2]]]);
//# sourceMappingURL=main.709b82f6.chunk.js.map